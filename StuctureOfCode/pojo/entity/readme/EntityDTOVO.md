å¥½ï¼Œé‚£æˆ‘å°±ä¸€å£æ°”å¸®ä½ æŠŠè¿™å‡ å—éƒ½è¡¥é½ï¼Œéƒ½ç”¨ç®€å•ä¸­æ–‡ + Markdown ğŸ‘‡

â¸»

1ï¸âƒ£ Entity / DTO / VO å…³ç³»å›¾

æµç¨‹å›¾ï¼ˆè¯·æ±‚ â†’ ä¸šåŠ¡ â†’ æŒä¹…åŒ– â†’ å“åº”ï¼‰
```
flowchart LR
    FE[å‰ç«¯é¡µé¢ / App] 
      --> |JSON è¯·æ±‚ä½“| DTO[DTO<br/>Data Transfer Object]

    DTO --> |ä½œä¸ºå‚æ•°| Controller[Controller<br/>æ§åˆ¶å±‚]
    Controller --> Service[Service<br/>ä¸šåŠ¡å±‚]
    Service --> Entity[Entity/PO<br/>æŒä¹…åŒ–å¯¹è±¡]
    Entity --> DB[(æ•°æ®åº“)]

    DB --> Entity
    Entity --> Service

    Service --> VO[VO<br/>View Object]
    VO --> |JSON å“åº”ä½“| FE
```
ä¸€å¥è¯è®°å¿†ï¼š
- 	DTOï¼šè¿›æ¥çš„ï¼ˆå‰ç«¯ â†’ åç«¯ï¼Œè¯·æ±‚å‚æ•°ï¼‰
- 	Entity/POï¼šè½åº“çš„ï¼ˆJava â†” æ•°æ®åº“ï¼‰
- 	VOï¼šå‡ºå»çš„ï¼ˆåç«¯ â†’ å‰ç«¯ï¼Œé¡µé¢å±•ç¤ºï¼‰

â¸»

2ï¸âƒ£ ç”¨ä¸€ä¸ªç®€åŒ–çš„ OrderVO é€è¡Œè®²è§£

ä½ é¡¹ç›®é‡Œæœ‰ OrderVOï¼Œç»“æ„å¤§æ¦‚ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼ˆæˆ‘å†™ä¸€ä¸ªç®€åŒ–ç‰ˆæ¥è§£é‡Šï¼‰ï¼š
```
@Data
public class OrderVO implements Serializable {

    private Long id;                // è®¢å•id
    private String number;          // è®¢å•å·
    private Integer status;         // è®¢å•çŠ¶æ€ï¼ˆ1å¾…ä»˜æ¬¾ã€2å¾…æ¥å•...ï¼‰
    private LocalDateTime orderTime;// ä¸‹å•æ—¶é—´
    private BigDecimal amount;      // è®¢å•æ€»é‡‘é¢

    // å±•ç¤ºç»™å‰ç«¯çš„â€œè®¢å•æ˜ç»†åˆ—è¡¨â€
    private List<OrderDetail> orderDetailList;
}
```
é€è¡Œè§£é‡Šï¼š
- 	@Dataï¼šLombokï¼Œè‡ªåŠ¨ç”Ÿæˆ getter/setter/toString ç­‰
- 	implements Serializableï¼šæ”¯æŒåºåˆ—åŒ–ï¼Œæ–¹ä¾¿ç½‘ç»œä¼ è¾“ / ç¼“å­˜
- 	idï¼šè®¢å•ä¸»é”®ï¼Œå¾ˆå¤šå‰ç«¯æ“ä½œï¼ˆæŸ¥çœ‹è¯¦æƒ…ã€å†æ¬¡ä¸‹å•ï¼‰éƒ½ä¼šç”¨
- 	numberï¼šå±•ç¤ºç”¨çš„â€œè®¢å•å·â€ï¼Œå‰ç«¯ä¼šæ˜¾ç¤ºç»™ç”¨æˆ·
- 	statusï¼šçŠ¶æ€ç ï¼ˆæ¯”å¦‚å¾…ä»˜æ¬¾ã€å·²å®Œæˆï¼‰ï¼Œå‰ç«¯æ ¹æ®çŠ¶æ€æ¸²æŸ“ä¸åŒæŒ‰é’®/é¢œè‰²
- 	orderTimeï¼šä¸‹å•æ—¶é—´ï¼Œåœ¨è®¢å•åˆ—è¡¨/è¯¦æƒ…é¡µæ˜¾ç¤º
- 	amountï¼šè®¢å•é‡‘é¢ï¼Œç”¨äºæ˜¾ç¤ºæ€»ä»·
- 	orderDetailListï¼šåµŒå¥—å¯¹è±¡ï¼Œè®©å‰ç«¯ä¸€æ¬¡æ€§æ‹¿åˆ°â€œè®¢å• + èœå“åˆ—è¡¨â€ï¼Œä¸ç”¨å†å‘ä¸€æ¬¡è¯·æ±‚

ğŸ‘‰ å…³é”®ç‚¹ï¼š
OrderVO = ä¸“é—¨ä¸ºå‰ç«¯é¡µé¢è®¾è®¡çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æŠŠå¤šå¼ è¡¨ï¼ˆOrders + OrderDetailï¼‰æ‹¼èµ·æ¥è¿”å›ã€‚

â¸»

3ï¸âƒ£ 5 é“å°ç»ƒä¹ é¢˜ï¼ˆå·©å›ºæ¦‚å¿µï¼‰

ä½ å¯ä»¥å…ˆè‡ªå·±æƒ³ï¼Œå†å¯¹ç­”æ¡ˆ ğŸ‘‡

ç»ƒä¹  1

é—®é¢˜ï¼šç”¨æˆ·æäº¤â€œæ–°å¢åœ°å€â€è¡¨å•ï¼Œåº”è¯¥ç”¨ DTO / Entity / VO å“ªä¸€ä¸ªæ¥æ¥æ”¶ï¼Ÿ
ç­”æ¡ˆï¼šDTOï¼ˆä¾‹å¦‚ AddressBookDTOï¼‰ï¼Œå› ä¸ºå®ƒæ˜¯â€œå…¥å‚â€ã€‚

â¸»

ç»ƒä¹  2

é—®é¢˜ï¼šMyBatis ä» address_book è¡¨æŸ¥å‡ºä¸€è¡Œæ•°æ®ï¼Œåº”è¯¥å°è£…æˆä»€ä¹ˆå¯¹è±¡ï¼Ÿ
ç­”æ¡ˆï¼šEntityï¼ˆä¾‹å¦‚ AddressBookï¼‰ã€‚

â¸»

ç»ƒä¹  3

é—®é¢˜ï¼šåç«¯è¿”å›â€œè®¢å• + èœå“åˆ—è¡¨ + ç”¨æˆ·æ˜µç§°â€ç»™å‰ç«¯ï¼Œä¸€ä¸ªå¯¹è±¡é‡Œæå®šï¼Œç”¨è°ï¼Ÿ
ç­”æ¡ˆï¼šVOï¼ˆä¾‹å¦‚ OrderVOï¼‰ã€‚

â¸»

ç»ƒä¹  4

é—®é¢˜ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ Entity è¿”å›ç»™å‰ç«¯ï¼Ÿ
å‚è€ƒï¼š
- 	Entity å’Œè¡¨ç»“æ„å¼ºç»‘å®šï¼Œå­—æ®µå¤šã€å†—ä½™
- 	æœ‰äº›å­—æ®µå‰ç«¯ä¸åº”è¯¥çœ‹åˆ°ï¼ˆå¯†ç ã€åˆ é™¤æ ‡å¿—ç­‰ï¼‰
- 	æœ‰æ—¶å€™éœ€è¦å¤šä¸ªè¡¨çš„æ•°æ®ç»„åˆï¼ŒEntity ä¸å¤Ÿç”¨

â¸»

ç»ƒä¹  5

é—®é¢˜ï¼šåœ¨ Service é‡ŒæŠŠ DTO è½¬æˆ Entityï¼Œä¸€èˆ¬ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿ
å‚è€ƒï¼š
- 	æ‰‹åŠ¨ setï¼šentity.setName(dto.getName())
- 	æˆ–ç”¨ BeanUtils.copyProperties(dto, entity)ï¼ˆæ³¨æ„æœ‰æ—¶éœ€è¦æ‰‹åŠ¨è¡¥å­—æ®µï¼‰

â¸»

4ï¸âƒ£ 5 é“å¸¸è§é¢è¯•é¢˜ + æ ‡å‡†å›ç­”ï¼ˆDTO / VO / Entityï¼‰

# Q1ï¼šDTOã€VOã€Entity æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

ç­”ï¼š

DTO ç”¨äºæ¥æ”¶è¯·æ±‚æ•°æ®ï¼ˆå‰ç«¯ â†’ åç«¯ï¼‰ï¼Œ
Entity/PO æ˜ å°„æ•°æ®åº“è¡¨ï¼Œç”¨äºæŒä¹…åŒ–ï¼Œ
VO ç”¨äºè¿”å›ç»™å‰ç«¯å±•ç¤ºæ•°æ®ï¼ˆåç«¯ â†’ å‰ç«¯ï¼‰ã€‚
ä¸€ä¸ª VO å¾€å¾€ä¼šèšåˆå¤šä¸ª Entity çš„å­—æ®µï¼Œç”¨æ¥è´´åˆé¡µé¢å±•ç¤ºéœ€æ±‚ã€‚

â¸»

# Q2ï¼šä¸ºä»€ä¹ˆè¦åŒºåˆ† DTO å’Œ Entityï¼Ÿç›´æ¥ç”¨ Entity æ¥æ”¶ä¸è¡Œå—ï¼Ÿ

ç­”ï¼š

ä¸å»ºè®®ç›´æ¥ç”¨ Entity æ¥æ”¶è¯·æ±‚å‚æ•°ã€‚
å› ä¸º Entity æ˜¯æ•°æ®åº“ç»“æ„ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¼ çš„å­—æ®µå’Œè¡¨ç»“æ„å¼ºè€¦åˆï¼Œå°†æ¥æ”¹åº“ä¼šå¾ˆç—›è‹¦ã€‚
DTO å¯ä»¥åªæš´éœ²éœ€è¦çš„å­—æ®µï¼Œå¹¶åšæ ¡éªŒã€è„±æ•ï¼Œä¿æŠ¤åç«¯å†…éƒ¨ç»“æ„ã€‚

â¸»

# Q3ï¼šä»€ä¹ˆåœºæ™¯ä¸‹éœ€è¦ VOï¼Ÿ

ç­”ï¼š

å½“ä¸€ä¸ªæ¥å£éœ€è¦è¿”å›â€œç»„åˆæ•°æ®â€æ—¶ï¼Œæ¯”å¦‚è®¢å•è¯¦æƒ…è¦åŒ…å«è®¢å•ä¿¡æ¯ + æ˜ç»†åˆ—è¡¨ + ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™äº›æ•°æ®æ¥è‡ªå¤šå¼ è¡¨ã€‚
è¿™æ—¶æˆ‘ä»¬å®šä¹‰ VOï¼ŒæŠŠè¦å±•ç¤ºçš„å­—æ®µç»„åˆåœ¨ä¸€èµ·ï¼Œå‰ç«¯åªè°ƒç”¨ä¸€ä¸ªæ¥å£å°±èƒ½æ‹¿åˆ°å®Œæ•´æ•°æ®ã€‚

â¸»

# Q4ï¼šä½ é¡¹ç›®é‡Œ DTO â†’ Entity æ˜¯åœ¨å“ªä¸€å±‚åšè½¬æ¢çš„ï¼Ÿ

å‚è€ƒç­”ï¼š

ä¸€èˆ¬åœ¨ Service å±‚åšè½¬æ¢ã€‚
Controller åªè´Ÿè´£æ¥æ”¶ DTO å’Œè¿”å› VOï¼Œ
Service æŠŠ DTO è½¬æˆ Entityï¼Œè°ƒç”¨ Mapper æ“ä½œæ•°æ®åº“ã€‚

â¸»

# Q5ï¼šEntity å¯ä»¥ç›´æ¥è¿”å›ç»™å‰ç«¯å—ï¼Ÿå¦‚æœä¸€å®šè¦è¿™æ ·åšï¼Œéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ

å‚è€ƒç­”ï¼š

å¯ä»¥ï¼Œä½†ä¸æ¨èã€‚
å¦‚æœå®åœ¨è¦ç”¨ï¼Œè‡³å°‘è¦æ³¨æ„ï¼š
1ï¼‰ä¸è¦åœ¨ Entity é‡Œæ”¾æ•æ„Ÿå­—æ®µï¼ˆå¯†ç ã€å¯†é’¥ç­‰ï¼‰ï¼›
2ï¼‰é¿å…æš´éœ²å†…éƒ¨çš„çŠ¶æ€å­—æ®µï¼ˆé€»è¾‘åˆ é™¤æ ‡è¯†ã€å†…éƒ¨å¤‡æ³¨ï¼‰ï¼›
æ›´å¥½çš„æ–¹å¼æ˜¯å®šä¹‰ VOï¼Œåšåˆ°â€œå‰åç«¯è§£è€¦â€ã€‚

â¸»

# 5ï¸âƒ£ DTO â†’ Entity â†’ VO å®æˆ˜å°ç¤ºä¾‹

å‡è®¾æœ‰ä¸€ä¸ªâ€œèœå“â€æ¨¡å—ï¼š

### â‘  DTOï¼šå‰ç«¯ä¼ å…¥æ–°å¢èœå“
```
@Data
public class DishDTO {
    private String name;        // èœå
    private BigDecimal price;   // ä»·æ ¼
    private Long categoryId;    // åˆ†ç±»id
}
```
### â‘¡ Entityï¼šæ•°æ®åº“è¡¨æ˜ å°„
```
@Data
public class Dish {
    private Long id;            // ä¸»é”®
    private String name;
    private BigDecimal price;
    private Long categoryId;
    private Integer status;     // çŠ¶æ€ 1å¯å”® 0åœå”®
}
```
### â‘¢ VOï¼šè¿”å›ç»™å‰ç«¯å±•ç¤ºï¼ˆå¤šä¸€ç‚¹ä¿¡æ¯ï¼‰
```
@Data
public class DishVO {
    private Long id;
    private String name;
    private BigDecimal price;
    private String categoryName; // é¢å¤–åŠ ï¼šåˆ†ç±»åç§°
    private Integer status;
}
```
### â‘£ Service ä¸­çš„è½¬æ¢æµç¨‹
```
@Service
public class DishService {

    @Autowired
    private DishMapper dishMapper;

    @Autowired
    private CategoryMapper categoryMapper;

    // æ–°å¢èœå“ï¼šDTO -> Entity
    public void save(DishDTO dishDTO) {
        Dish dish = new Dish();
        BeanUtils.copyProperties(dishDTO, dish);
        dish.setStatus(1); // é»˜è®¤å¯å”®
        dishMapper.insert(dish);
    }
```
    // æŸ¥è¯¢èœå“è¯¦æƒ…ï¼šEntity -> VO

```
    public DishVO getById(Long id) {
        Dish dish = dishMapper.getById(id);
        Category category = categoryMapper.getById(dish.getCategoryId());

        DishVO vo = new DishVO();
        BeanUtils.copyProperties(dish, vo);
        vo.setCategoryName(category.getName());

        return vo;
    }
}
```
ğŸ‘‰ è¿™é‡Œå®Œæ•´ä½“ç°äº†ï¼š
- 	å‰ç«¯è¯·æ±‚ï¼šDishDTO
- 	è½åº“ï¼šDishï¼ˆEntityï¼‰
- 	è¿”å›å‰ç«¯ï¼šDishVO

â¸»

å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥å¸®ä½ é’ˆå¯¹ä½ é¡¹ç›®é‡Œçš„çœŸå®ç±»æ¥ï¼š
- 	æ‰“å¼€çœŸæ­£çš„ OrderVOï¼Œé€å­—æ®µè§£é‡Šç”¨é€”
- 	ç”»ä¸€å¼ â€œSky å¤–å–é¡¹ç›®â€çš„ Entity/DTO/VO å…³ç³»å¤§å›¾
- 	é€‰ä¸€ä¸ªçœŸå®æ¥å£ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¸‹å•ï¼‰ï¼ŒæŠŠâ€œDTO â†’ Entity â†’ VO Flowâ€ç”»æˆæµç¨‹å›¾ï¼ˆé™„ä»£ç ï¼‰
